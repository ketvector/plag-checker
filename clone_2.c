#include<stdio.h>
$
intmain()
{
intv,v,v[100001],v[100001],v[100001],v[100001],v,v,v,v,v,max;
charv[100001];
scanf("%d",&v);
while(v--)
{
v=v=v=0;
scanf("%d",&v);
scanf("%s",v);
for(v=0;i<n;i++)
{
if(v[v]=='1')
v[v++]=i;
scanf("%d",&v[v]);
}
for(v=0;i<n;i++)
{
if(v[v]=='1')
{
v=0;
v[v]=0;
v=1;
}
else
{
if(v==0&&v==0)
{
v[v]=0;
}
elseif(v==1)
{
v+=v[v]-v[v-1];
v[v]=length;
}
}
}
for(v=v-1;i>=0;i--)
{
if(v[v]=='1')
{
v=0;
v[v]=0;
v=1;
}
else
{
if(v==0&&v==0)
{
v[v]=0;
}
elseif(v==1)
{
v+=v[v+1]-v[v];
v[v]=length;
}
}
}
v=0;
if(v==1)
{
if(v[0]>0&&v[0]<v-1)
v=v[0]+v[v-1];
elseif(v[0]==0)
v=v[v-1];
elseif(v[0]==v-1)
v=v[0];
printf("%d\n",v);
}
else
{
if(v[0]!=0)
v=v[0];
for(v=0;i<v-1;i++)
{
v=0;
for(v=v[v]+1;k<=v[v+1];k++)
if(v<v[v]-v[v-1])
v=v[v]-v[v-1];
v+=v[v[v+1]]-v[v[v]]-max;
}
if(v[v-1]!=v-1)
v+=v[v-1];
printf("%d\n",v);
}
}
return0;
}
